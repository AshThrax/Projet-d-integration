@using Microsoft.AspNetCore.Components.QuickGrid
@using Blazor.UI.data.modelViews
@using Blazor.UI.data.services
@inject IPieceService ServPiece;
<h3>Pieces</h3>
<p>Piece Composant</p>
<QuickGrid Items="@Piecetab.AsQueryable()">
    <PropertyColumn Property="@(p => p.Titre)" Sortable="true" Title="Title" />
    <PropertyColumn Property="@(p => p.Duree)" Sortable="true" Title="Duration" />
    <PropertyColumn Property="@(p => p.Description)" Sortable="true" Title="Description" />
    <PropertyColumn Property="@(p => p.idSalle)" Sortable="true" Title="Salle ID" />
    <TemplateColumn Title="Representations">
         <div>
             <button>representation</button>
         </div>
    </TemplateColumn>
    <TemplateColumn Title="Salle">
        <div>
            <button>Salle de theatre</button>
        </div>
    </TemplateColumn>
    
</QuickGrid>

@code {
    [Parameter]
    public int Id { get; set; }
    public IEnumerable<PieceDto> Piecetab { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Piecetab = await ServPiece.GetByComplexe(Id);
        await base.OnInitializedAsync();
    }
}
